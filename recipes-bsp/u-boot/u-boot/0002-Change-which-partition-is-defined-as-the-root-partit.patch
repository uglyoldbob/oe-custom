From 2c9313e6d096c2ebb1d5aec86f60fb4e4b6aea4a Mon Sep 17 00:00:00 2001
From: Thomas Epperson <tepperson@briskheat.com>
Date: Tue, 21 Aug 2018 08:22:03 -0400
Subject: [PATCH] Change which partition is defined as the root partition.

---
 include/configs/socfpga_de0_nano_soc.h | 8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

diff --git a/include/configs/socfpga_de0_nano_soc.h b/include/configs/socfpga_de0_nano_soc.h
index cbc7396..277540e 100644
--- a/include/configs/socfpga_de0_nano_soc.h
+++ b/include/configs/socfpga_de0_nano_soc.h
@@ -8,6 +8,8 @@
 
 #include <asm/arch/base_addr_ac5.h>
 
+/*#define CONFIG_SPL_FAT_SUPPORT 1*/
+
 /* U-Boot Commands */
 #define CONFIG_SYS_NO_FLASH
 #define CONFIG_DOS_PARTITION
@@ -58,13 +60,13 @@
 	"fdt_addr=100\0" \
 	"fdtimage=socfpga.dtb\0" \
 	"bootm ${loadaddr} - ${fdt_addr}\0" \
-	"mmcroot=/dev/mmcblk0p2\0" \
+	"mmcroot=/dev/mmcblk0p3\0" \
 	"mmcboot=setenv bootargs " CONFIG_BOOTARGS \
 		" root=${mmcroot} rw rootwait;" \
 		"bootz ${loadaddr} - ${fdt_addr}\0" \
 	"mmcload=mmc rescan;" \
-		"load mmc 0:1 ${loadaddr} ${bootimage};" \
-		"load mmc 0:1 ${fdt_addr} ${fdtimage}\0" \
+		"load mmc 0:2 ${loadaddr} ${bootimage};" \
+		"load mmc 0:2 ${fdt_addr} ${fdtimage}\0" \
 
 /* The rest of the configuration is shared */
 #include <configs/socfpga_common.h>
-- 
1.9.1

